{"version":3,"file":"static/js/617.b0d269b0.chunk.js","mappings":"qLACA,EAA+B,mCAA/B,EAAyE,2BAAzE,EAA4I,0BAA5I,EAAyN,qCAAzN,EAA4Q,kCAA5Q,EAAgU,sCAAhU,EAAkX,gC,uCCoElX,MA9DA,SAAqBA,GAAgB,IAAbC,EAAQD,EAARC,SAChBC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MAWjB,OACEC,EAAAA,EAAAA,KAAA,MAAIC,UAAWC,EAAeC,SAElB,OAARR,QAAQ,IAARA,OAAQ,EAARA,EAAUS,KAAI,SAAAC,GAAA,IAAGC,EAAID,EAAJC,KAAMC,EAAKF,EAALE,MAAOC,EAAEH,EAAFG,GAAIC,EAAQJ,EAARI,SAAUC,EAAML,EAANK,OAAM,OAChDC,EAAAA,EAAAA,MAAA,MAEEV,UAAWC,EAAOC,SAAA,EAElBQ,EAAAA,EAAAA,MAAA,OACEC,QAAS,kBAlBD,SAACJ,EAAIE,GACvB,IAAMG,EAAOH,EAAS,CACpBI,MAAa,OAANJ,QAAM,IAANA,OAAM,EAANA,EAAQI,MACfC,KAAY,OAANL,QAAM,IAANA,OAAM,EAANA,EAAQK,MACZ,KAEJnB,EAAS,YAADoB,OAAaR,GAAM,CAAES,MAAOJ,GACtC,CAW2BK,CAAYV,EAAIE,EAAO,EACtCT,UAAWC,EAAiBC,SAAA,EAE5BH,EAAAA,EAAAA,KAAA,OAAKmB,IAAKZ,EAAOa,IAAKd,EAAML,UAAWC,KACvCF,EAAAA,EAAAA,KAACqB,EAAAA,EAAI,CAACf,KAAMA,IAGVI,IACAC,EAAAA,EAAAA,MAAAW,EAAAA,SAAA,CAAAnB,SAAA,EACEQ,EAAAA,EAAAA,MAAA,KAAGV,UAAWC,EAAcC,SAAA,CAAC,+BACpBH,EAAAA,EAAAA,KAAA,QAAMC,UAAWC,EAAkBC,SAAEO,EAAOI,MAAMR,WAE3DK,EAAAA,EAAAA,MAAA,KAAGV,UAAWC,EAAcC,SAAA,CAAC,2CAClBH,EAAAA,EAAAA,KAAA,QAAMC,UAAWC,EAAkBC,SAAA,GAAAa,OAAKN,EAAOK,KAAKQ,OAAM,MAAAP,OAAKN,EAAOK,KAAKS,MAAK,WAE3Fb,EAAAA,EAAAA,MAAA,KAAGV,UAAWC,EAAcC,SAAA,CAAC,+BACpBH,EAAAA,EAAAA,KAAA,QAAMC,UAAWC,EAAkBC,SAAA,GAAAa,OAAKN,EAAOI,MAAMW,MAAK,sBAOvEf,IACAV,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,EAAYC,UAC1BH,EAAAA,EAAAA,KAAC0B,EAAAA,EAAM,CACLC,KAAM,6CACNC,UAAW,qGACXhB,QAAS,kBAAMd,GAAS+B,EAAAA,EAAAA,IAAoBpB,GAAU,EACtDK,MAAO,YAjCRL,GAAsBD,EAqCxB,KAKf,C,mIC5CA,MAjBA,WACE,IAAMV,GAAWC,EAAAA,EAAAA,MACT+B,GAAYC,EAAAA,EAAAA,KAAY,SAAAd,GAAK,OAAIA,CAAK,IAAtCa,QAOR,OALAE,EAAAA,EAAAA,YAAU,WACRlC,GAASmC,EAAAA,EAAAA,OACTnC,GAASoC,EAAAA,EAAAA,MACX,GAAG,KAGDvB,EAAAA,EAAAA,MAAAW,EAAAA,SAAA,CAAAnB,SAAA,EACEH,EAAAA,EAAAA,KAAA,MAAAG,SAAI,qFACJH,EAAAA,EAAAA,KAACmC,EAAAA,EAAY,CAACxC,SAAUmC,EAAQnC,SAASyC,UAG/C,C","sources":["webpack://online-store-react/./src/components/ProductsList/ProductsList.module.css?13ff","components/ProductsList/ProductsList.jsx","views/ProductsView/ProductsView.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"productsList\":\"ProductsList_productsList__Q8b3R\",\"item\":\"ProductsList_item__kClZA\",\"link\":\"ProductsList_link__xLsgk\",\"img\":\"ProductsList_img__RWpox\",\"name\":\"ProductsList_name__MaUhp\",\"descriptionBox\":\"ProductsList_descriptionBox__Wg+Bx\",\"description\":\"ProductsList_description__okpYw\",\"descriptionName\":\"ProductsList_descriptionName__5Avr0\",\"btnRemove\":\"ProductsList_btnRemove__1qntY\"};","import { useNavigate } from 'react-router-dom'\r\nimport { useDispatch } from 'react-redux';\r\nimport s from 'components/ProductsList/ProductsList.module.css';\r\nimport { removeProductBasket } from 'store/basket/basketOperations';\r\nimport Name from 'components/Name';\r\nimport Button from 'components/Button';\r\n\r\nfunction ProductsList({ products }) {\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n\r\n  const goToProduct = (id, basket) => {\r\n    const data = basket ? {\r\n      color: basket?.color,\r\n      size: basket?.size,\r\n    } : null;\r\n\r\n    navigate(`/product/${id}`, { state: data });\r\n  };\r\n\r\n  return (\r\n    <ul className={s.productsList}>\r\n      {\r\n        products?.map(({ name, image, id, idBasket, basket }) => (\r\n          <li\r\n            key={idBasket ? idBasket : id}\r\n            className={s.item}\r\n          >\r\n            <div\r\n              onClick={() => goToProduct(id, basket)}\r\n              className={s.descriptionBox}\r\n            >\r\n              <img src={image} alt={name} className={s.img} />\r\n              <Name name={name} />\r\n              {\r\n                /* если находимся на странице корзины */\r\n                basket &&\r\n                <>\r\n                  <p className={s.description}>\r\n                    Цвет - <span className={s.descriptionName}>{basket.color.name}</span>\r\n                  </p>\r\n                  <p className={s.description}>\r\n                    Размер - <span className={s.descriptionName}>{`${basket.size.number} (${basket.size.label})`}</span>\r\n                  </p>\r\n                  <p className={s.description}>\r\n                    Цена - <span className={s.descriptionName}>{`${basket.color.price} ₽`}</span>\r\n                  </p>\r\n                </>\r\n              }\r\n            </div>\r\n            {\r\n              /* если находимся на странице корзины */\r\n              basket &&\r\n              <div className={s.btnRemove}>\r\n                <Button\r\n                  text={'Удалить'}\r\n                  ariaLabel={'Удалить из корзины'}\r\n                  onClick={() => dispatch(removeProductBasket(idBasket))}\r\n                  color={'red'}\r\n                />\r\n              </div>\r\n            }\r\n          </li>\r\n        ))\r\n      }\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default ProductsList;","import { useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { fetchProducts } from 'store/catalog/catalogOperations';\r\nimport { fetchBasket } from 'store/basket/basketOperations';\r\nimport ProductsList from 'components/ProductsList'\r\n\r\nfunction ProductsView() {\r\n  const dispatch = useDispatch();\r\n  const { catalog } = useSelector(state => state);\r\n  // получаем товары и корзину\r\n  useEffect(() => {\r\n    dispatch(fetchBasket());\r\n    dispatch(fetchProducts());\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <h1>Список товаров</h1>\r\n      <ProductsList products={catalog.products.items} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ProductsView;"],"names":["_ref","products","navigate","useNavigate","dispatch","useDispatch","_jsx","className","s","children","map","_ref2","name","image","id","idBasket","basket","_jsxs","onClick","data","color","size","concat","state","goToProduct","src","alt","Name","_Fragment","number","label","price","Button","text","ariaLabel","removeProductBasket","catalog","useSelector","useEffect","fetchBasket","fetchProducts","ProductsList","items"],"sourceRoot":""}