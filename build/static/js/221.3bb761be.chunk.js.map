{"version":3,"file":"static/js/221.3bb761be.chunk.js","mappings":"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","sources":["webpack://online-store-react/./src/components/ProductsList/ProductsList.module.css?13ff","components/ProductsList/ProductsList.jsx","webpack://online-store-react/./src/views/BasketView/BasketView.module.css?ffda","views/BasketView/BasketView.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"productsList\":\"ProductsList_productsList__Q8b3R\",\"item\":\"ProductsList_item__kClZA\",\"link\":\"ProductsList_link__xLsgk\",\"img\":\"ProductsList_img__RWpox\",\"name\":\"ProductsList_name__MaUhp\",\"descriptionBox\":\"ProductsList_descriptionBox__Wg+Bx\",\"description\":\"ProductsList_description__okpYw\",\"descriptionName\":\"ProductsList_descriptionName__5Avr0\",\"btnRemove\":\"ProductsList_btnRemove__1qntY\"};","import { useNavigate } from 'react-router-dom'\r\nimport { useDispatch } from 'react-redux';\r\nimport s from 'components/ProductsList/ProductsList.module.css';\r\nimport { removeProductBasket } from 'store/basket/basketOperations';\r\nimport Name from 'components/Name';\r\nimport Button from 'components/Button';\r\n\r\nfunction ProductsList({ products }) {\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n\r\n  const goToProduct = (id, basket) => {\r\n    const data = basket ? {\r\n      color: basket?.color,\r\n      size: basket?.size,\r\n    } : null;\r\n\r\n    navigate(`/product/${id}`, { state: data });\r\n  };\r\n\r\n  return (\r\n    <ul className={s.productsList}>\r\n      {\r\n        products?.map(({ name, image, id, idBasket, basket }) => (\r\n          <li\r\n            key={idBasket ? idBasket : id}\r\n            className={s.item}\r\n          >\r\n            <div\r\n              onClick={() => goToProduct(id, basket)}\r\n              className={s.descriptionBox}\r\n            >\r\n              <img src={require(`../../img${image}`)} alt={name} className={s.img} />\r\n              <Name name={name} />\r\n              {\r\n                /* если находимся на странице корзины */\r\n                basket &&\r\n                <>\r\n                  <p className={s.description}>\r\n                    Цвет - <span className={s.descriptionName}>{basket.color.name}</span>\r\n                  </p>\r\n                  <p className={s.description}>\r\n                    Размер - <span className={s.descriptionName}>{`${basket.size.number} (${basket.size.label})`}</span>\r\n                  </p>\r\n                  <p className={s.description}>\r\n                    Цена - <span className={s.descriptionName}>{`${basket.color.price} ₽`}</span>\r\n                  </p>\r\n                </>\r\n              }\r\n            </div>\r\n            {\r\n              /* если находимся на странице корзины */\r\n              basket &&\r\n              <div className={s.btnRemove}>\r\n                <Button\r\n                  text={'Удалить'}\r\n                  ariaLabel={'Удалить из корзины'}\r\n                  onClick={() => dispatch(removeProductBasket(idBasket))}\r\n                  color={'red'}\r\n                />\r\n              </div>\r\n            }\r\n          </li>\r\n        ))\r\n      }\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default ProductsList;","// extracted by mini-css-extract-plugin\nexport default {\"buttonBox\":\"BasketView_buttonBox__-h6MF\"};","import { useNavigate } from 'react-router-dom';\r\nimport { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { fetchBasket, removeBasket } from 'store/basket/basketOperations';\r\nimport s from './BasketView.module.css';\r\nimport ProductsList from 'components/ProductsList'\r\nimport Button from 'components/Button';\r\nimport Spinner from 'components/Spinner';\r\nimport ErrorMessage from 'components/ErrorMessage';\r\n\r\nfunction BasketView() {\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n  const { basket } = useSelector(state => state);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchBasket());\r\n  }, [])\r\n\r\n  if (basket.isLoading) {\r\n    return <Spinner />\r\n  } else if (basket.error) {\r\n    return <ErrorMessage error={basket.error} />\r\n  } else if (basket.items.length === 0) {\r\n    return <ErrorMessage error={'Корзина пуста'} />\r\n  } else {\r\n    return (\r\n      <>\r\n        <div className={s.buttonBox}>\r\n          <Button\r\n            onClick={() => navigate(-1)}\r\n            text={\"Назад\"}\r\n            ariaLabel={\"Вернуться назад\"}\r\n          />\r\n\r\n          <Button\r\n            text={\"Очистить корзину\"}\r\n            ariaLabel={\"Очистить корзину\"}\r\n            color={'red'}\r\n            onClick={() => dispatch(removeBasket())}\r\n          />\r\n        </div>\r\n\r\n        <h1>Корзина</h1>\r\n        <ProductsList products={basket.items} />\r\n      </>\r\n    )\r\n  }\r\n};\r\n\r\nexport default BasketView;"],"names":["_ref","products","navigate","useNavigate","dispatch","useDispatch","_jsx","className","s","children","map","_ref2","name","image","id","idBasket","basket","_jsxs","onClick","data","color","size","concat","state","goToProduct","src","require","alt","Name","_Fragment","number","label","price","Button","text","ariaLabel","removeProductBasket","useSelector","useEffect","fetchBasket","isLoading","Spinner","error","ErrorMessage","items","length","removeBasket","ProductsList"],"sourceRoot":""}