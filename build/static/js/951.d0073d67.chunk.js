"use strict";(self.webpackChunkonline_store_react=self.webpackChunkonline_store_react||[]).push([[951],{3456:function(e,r,n){n.r(r),n.d(r,{default:function(){return U}});var t=n(4165),c=n(5861),o=n(9439),a=n(7689),i="CardProductView_buttonBox__BDeS+",s=n(2791),l=n(9434),u=n(4620),d=n(7564),f=n(4942),m=n(1413),v=n(7762),_=n(1087),g={container:"ProductDetails_container__Fey3J",cardProductContent:"ProductDetails_cardProductContent__DihPA",basketBtn:"ProductDetails_basketBtn__SGbWZ"},p=n(2007),h=n.n(p),x=n.p+"static/media/noImage.e9e6283e53375e78dd1b.jpeg",j="Slider_container__FtrMA",b="Slider_currentImage__A3l3H",C="Slider_imgScroll__OchQd",S="Slider_listImages__PcCIm",z="Slider_image__6tjG6",Z=n(184);function y(e){var r=e.images,n=e.currentImage,t=e.setCurrentImage;return(0,Z.jsxs)("div",{className:j,children:[(0,Z.jsx)("img",{src:n||x,alt:"images-product",className:b}),(0,Z.jsx)("ul",{className:S,children:null===r||void 0===r?void 0:r.map((function(e){return(0,Z.jsx)("li",{className:z,onClick:function(){return t(e)},children:(0,Z.jsx)("img",{src:e,alt:"images-scroll",className:C})},e)}))})]})}y.protoType={images:h().arrayOf(h().string),currentImage:h().string,setCurrentImage:h().func};var k=y;function P(e){var r=e.description;return(0,Z.jsx)("p",{children:r})}P.protoType={description:h().string};var I=P,N="Colors_colorsList__QtPeh",T="Colors_color__Fod6P";function B(e){var r=e.colors,n=e.changeColor,t=e.currentColor;return(0,Z.jsx)("ul",{className:N,children:null===r||void 0===r?void 0:r.map((function(e){return(0,Z.jsx)("li",{className:T,style:e.id===t?{color:"#0f7fcc"}:{color:"#000c0c"},onClick:function(){return n(e)},children:e.name},e.id)}))})}B.protoType={colors:h().arrayOf(h().object),changeColor:h().func,currentColor:h().number};var E=B;function w(e){var r=e.price;return(0,Z.jsx)("div",{children:"\u0426\u0435\u043d\u0430 - ".concat(r," \u20bd")})}w.protoType={price:h().string};var O=w,D=n(6324),F="Sizes_Sizes__L2R7Z",L="Sizes_sizeItem__nVy0t",A="Sizes_sizeText__h9i+E",Q=n(8705),G=n(5096);function H(e){var r,n,t=e.productSize,c=e.removeSearchParam,a=e.addSearchParam,i=(0,l.I0)(),d=(0,_.lr)(),f=(0,o.Z)(d,1)[0],v=(0,l.v9)((function(e){return e})).catalog,g=(0,s.useState)(null),p=(0,o.Z)(g,2),h=p[0],x=p[1];(0,s.useEffect)((function(){return i((0,u.K8)()),function(){return C()}}),[]),(0,s.useEffect)((function(){var e=f.get("size")||"";if(e){var r=t.find((function(r){return r===+e}));r?b(r):C()}}),[t,f]);var j=function(e){var r=null;return null===t||void 0===t||t.forEach((function(n){n===e&&(r={borderColor:"#0f7fcc",backgroundColor:"#b5d3e7",cursor:"pointer"})})),e===h&&(r=(0,m.Z)((0,m.Z)({},r),{},{borderColor:"#084f80",backgroundColor:"#084f80"})),r},b=function(e){i((0,u.tJ)(e)),x(e)},C=function(){i((0,Q.ZB)(null)),x(null)};return(0,Z.jsx)("ul",{className:F,children:null===(r=v.sizes)||void 0===r||null===(n=r.items)||void 0===n?void 0:n.map((function(e){var r=e.id,n=e.label,o=e.number;return(0,Z.jsx)("li",{onClick:function(e){return function(e,r){if(null===t||void 0===t?void 0:t.find((function(e){return e===r}))){var n=e.currentTarget;"active"!==n.data_selected?(n.style.backgroundColor="#084f80",n.style.borderColor="#084f80",h===r?(C(),c("size")):(b(r),a("size",r))):(n.style.backgroundColor="#b5d3e7",n.style.borderColor="#0f7fcc",n.data_selected="",C(),c("size"))}}(e,r)},style:j(r),className:L,data_selected:h===r?"active":"",children:v.sizes.isLoading&&h===r?(0,Z.jsx)(G.Z,{margin:0,width:30}):(0,Z.jsx)("span",{className:A,children:"".concat(o," (").concat(n,")")})},r)}))})}H.protoType={productSize:h().arrayOf(h().number),removeSearchParam:h().func,addSearchParam:h().func};var J=H,V=n(7459),K=function(e){var r,n=e.product,t=(0,l.I0)(),c=(0,a.TH)(),i=(0,l.v9)((function(e){return e})).catalog,u=(0,_.lr)(),p=(0,o.Z)(u,2),h=p[0],x=p[1],j=(0,s.useState)(null),b=(0,o.Z)(j,2),C=b[0],S=b[1],z=(0,s.useState)(null),y=(0,o.Z)(z,2),P=y[0],N=y[1];(0,s.useEffect)((function(){if(c.state)S(c.state.color);else{var e=h.get("color")||"";if(e){var r=n.colors.find((function(r){return r.id===+e}));S(r||n.colors[0])}else S(n.colors[0])}}),[c.state,n,h]),(0,s.useEffect)((function(){return N(null===C||void 0===C?void 0:C.images[0])}),[null===C||void 0===C?void 0:C.images]);var T=function(e,r){var n,t={},c=(0,v.Z)(h.entries());try{for(c.s();!(n=c.n()).done;){var o=n.value;t[o[0]]=o[1]}}catch(a){c.e(a)}finally{c.f()}x((0,m.Z)((0,m.Z)({},t),{},(0,f.Z)({},e,r)))};return(0,Z.jsxs)("div",{className:g.container,children:[C&&(0,Z.jsx)(k,{images:C.images,currentImage:P,setCurrentImage:N,className:g.slider}),(0,Z.jsxs)("div",{className:g.cardProductContent,children:[C&&(0,Z.jsxs)("div",{children:[(0,Z.jsx)(D.Z,{name:"".concat(n.name," ").concat(C.name)}),(0,Z.jsx)(I,{description:C.description}),(0,Z.jsx)(O,{price:C.price}),c.state?(0,Z.jsx)("p",{children:"".concat(c.state.size.number," (").concat(c.state.size.label,")")}):(0,Z.jsx)(J,{productSize:C.sizes,removeSearchParam:function(e){h.has(e)&&(h.delete(e),x(h))},addSearchParam:T})]}),!c.state&&(0,Z.jsx)(E,{colors:n.colors,changeColor:function(e){S(e),N(e.images[0]),T("color",e.id)},currentColor:null===C||void 0===C?void 0:C.id}),!c.state&&(0,Z.jsx)("div",{className:g.basketBtn,children:(0,Z.jsx)(V.Z,{onClick:function(){var e={id:n.id,idBasket:"".concat(n.id,"-").concat(C.id,"-").concat(i.sizes.selecteSize.id),name:n.name,colors:n.colors,image:C.images[0],basket:{description:C.description,size:i.sizes.selecteSize,color:C}};t((0,d.BF)(e))},text:"\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0443",ariaLabel:"\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443",disabled:null!==(r=!i.sizes.selecteSize||!C)&&void 0!==r&&r})})]})]})};K.protoType={product:h().arrayOf(h().object)};var M=K,R=n(8684);var U=function(){var e=(0,a.UO)().productId,r=(0,a.s0)(),n=(0,l.I0)(),f=(0,l.v9)((function(e){return e})).catalog,m=(0,s.useState)(null),v=(0,o.Z)(m,2),_=v[0],g=v[1];return(0,s.useEffect)((function(){n((0,d.br)()),(0,c.Z)((0,t.Z)().mark((function r(){var c;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n((0,u.vQ)(e));case 2:c=r.sent,g(c);case 4:case"end":return r.stop()}}),r)})))()}),[e]),(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("div",{className:i,children:(0,Z.jsx)(V.Z,{onClick:function(){return r(-1)},text:"\u041d\u0430\u0437\u0430\u0434",ariaLabel:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430\u0437\u0430\u0434"})}),(0,Z.jsx)("h1",{children:null===_||void 0===_?void 0:_.name}),_&&(0,Z.jsx)(M,{product:_})||(0,Z.jsx)(R.Z,{error:f.cardProduct.error})]})}}}]);
//# sourceMappingURL=951.d0073d67.chunk.js.map